<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
</body>
<script src="../zepto_1.2.js"></script>
<script>
    //判断数据是不是类数组
    // in 关键判断一个字符串或者数字是否是对象的属性
    //比如 0 in ['a','b']  true
    //比如 2 in ['a','b']  false
    function likeArray(obj) {
        var length = !!obj &&
            'length' in obj &&
            obj.length; //最后返回 length的值

        var type = $.type(obj);
        return 'function' != type &&
            !$.isWindow(obj) &&
            (
                'array' == type ||
                length === 0 || //length为0情况
                (typeof  length == 'number' && length > 0 && (length - 1) in obj)//length大于0的情况
            )
    }

    function flatten(array) {
        return array.length > 0 ? $.fn.concat([], array) : array;
    }

    var likeArr1 = {
        "0": 'abc',
        "1": "cdf",
        "length": 2
    };

    var likeArr2 = {
        "length": 0
    };

    var likeArr3 = function () {

    };

    console.log(likeArray(likeArr1));//true
    console.log(likeArray(likeArr2));//true
    console.log(likeArray(likeArr3));//false
    console.log(likeArray(window));//false

</script>
</html>