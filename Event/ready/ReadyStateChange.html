<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script>
        window.oldTime = Date.now();
    </script>
    <link rel="stylesheet" type="text/css" href="./TestStyle.css">
    <script>
//        console.log('after css')
                console.log(getComputedStyle(document.body).marginTop)
    </script>
</head>
<body>
</body>
<script>
    document.addEventListener('readystatechange', changeCallback);

    function changeCallback() {
        switch (document.readyState) {
            case "loading":
                console.log('The document is still loading.')
                break;
            case "interactive":
                // The document has finished loading.
                // We can now access the DOM elements.
                var span = document.createElement("span");
                span.textContent = "A <span> element.";
                document.body.appendChild(span);
                console.log('DOMContentLoaded')
                console.log('loadTime:',Date.now() - window.oldTime)
                break;
            case "complete":
                // The page is fully loaded.
                let CSS_rule = document.styleSheets[0].cssRules[0].cssText;
                console.log(`The first CSS rule is: ${CSS_rule }`);
                break;
        }
    }

    console.log('I am coming')
</script>
<script src="./js/main.js" defer></script>
<script>
    console.log('sync')
    // 打印sync
    //DOMContentLoaded
    // 打印main.js里的内容
    //打印complete内容
</script>
</html>